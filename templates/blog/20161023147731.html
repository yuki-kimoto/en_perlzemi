<ol class = "bread" itemscope itemtype = "http://schema.org/BreadcrumbList">  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/">        <span itemprop = "name">Perl </span></a>
    <meta itemprop = "position" content = "1" />
  </li>
  &#8250;
  <li>
    <span itemprop = "name">here </span></a>
  </li>
</ol>
<h2> Conditional branching by if statement </h2>



When writing programming, you may want to change the process or repeat the same process depending on the conditions.

In such a case, conditional branching and repetition can be realized by using if and for statements.

<h3> Basics of conditional branching </h3>

I will explain the basics of conditional branching.

<h4> if statement </h4>

Use <a href="/blog/20080317120577.html">if statement</a> to do conditional branching in Perl. First, let's write a simple conditional branch. This is an if statement that outputs "OK" when the value of the variable is "5".

<pre>
my $num = 5;
if ($num == 5) {
  print "OK\n";
}
</pre>

The if statement has the following syntax. When the condition becomes true, the following blocks are executed.

<pre>
if (condition) {
  ...;
}
</pre>

<b> == </b> is a comparison operator that returns true if the numbers are equal.

In the case of this example, "$num == 5" returns true because the variable contains 5.

And since the condition is true, the contents of the following blocks are executed.

Also check that "OK" is not displayed when you change the contents of the variable to "4".

<h4> if ～ else statement </h4>

By using <a href="/blog/20080320120602.html">if ～ else statement</a>, you can write the process to be executed when the condition is true and the process to be executed when the condition is false.

<pre>
# if statement
my $num = 5;
if ($num == 5) {
  print "OK\n";
}
else {
  print "Not OK\n";
}
</pre>

<h4> if ～ elsif statement </h4>

You can use <a href="/blog/20080320120602.html">if ～ elsif statement</a> to describe multiple conditions.

<pre>
# if ～ elsif
my $num = 5;
if ($num == 5) {
  print "Number is 5\n";
}
elsif ($num == 7) {
  print "Number is 7\n";
}
</pre>

In the above case, if "$num" is 5, "Number is 5" is displayed, and if "$num" is 7, "Number is 7" is displayed.

Note that in C and Java it is "else if", but in Perl it is "els if".

You can specify multiple elsifs.

<pre>
# Multiple elsif
my $num = 5;
if ($num == 5) {
  print "Number is 5\n";
}
elsif ($num == 7) {
  print "Number is 7\n";
}
elsif ($num == 9) {
  print "Number is 9\n";
}
</pre>

elsif can also be used in combination with else. Be sure to write else at the end.


<pre>
# elseif and else combination
my $num = 5;
if ($num == 5) {
  print "Number is 5\n";
}
elsif ($num == 7) {
  print "Number is 7\n";
}
elsif ($num == 9) {
  print "Number is 9\n";
}
else {
  print "Not match\n";
}
</pre>

<h3> Comparison operator </h3>

I used the symbol "==" in the condition of the if statement, which is one of the <b> comparison operators </b>.

Here are the Perl comparison operators. Perl has two types of comparison operators. <b> Numeric comparison operators </b> and <b> String comparison operators </b>.

<h4> Numeric comparison operator </h4>

Numeric comparison operators are operators used to compare values ​​as numbers.

<table>
  <tr>
    <td>
      *operator
    </td>
    <td>
      *meaning
    </td>
  </tr>

  <tr>
    <td>
      A == B
    </td>
    <td>
      A and B are equal
    </td>
  </tr>

  <tr>
    <td>
      A != B
    </td>
    <td>
      A and B are not equal
    </td>
  </tr>

  <tr>
    <td>
      A> B
    </td>
    <td>
      A is greater than B
    </td>
  </tr>

  <tr>
    <td>
      A> = B
    </td>
    <td>
      A is B or higher
    </td>
  </tr>

  <tr>
    <td>
      A <B
    </td>
    <td>
      A is smaller than B
    </td>
  </tr>

  <tr>
    <td>
      A <= B
    </td>
    <td>
      A is less than or equal to B
    </td>
  </tr>

</table>

<h4> String comparison operator </h4>

The string comparison operator is an operator used to compare strings in lexicographical order.

<table>
  <tr>
    <td>
      *operator
    </td>
    <td>
      *meaning
    </td>
  </tr>

  <tr>
    <td>
      A eq B
    </td>
    <td>
      A and B are equal
    </td>
  </tr>

  <tr>
    <td>
      A ne B
    </td>
    <td>
      A and B are not equal
    </td>
  </tr>

  <tr>
    <td>
      A gt B
    </td>
    <td>
      A is greater than B
    </td>
  </tr>

  <tr>
    <td>
      A ge B
    </td>
    <td>
      A is B or higher
    </td>
  </tr>

  <tr>
    <td>
      A lt B
    </td>
    <td>
      A is smaller than B
    </td>
  </tr>

  <tr>
    <td>
      A le B
    </td>
    <td>
      A is less than or equal to B
    </td>
  </tr>

</table>

<h4> Numerical comparison and string comparison </h4>

In Perl, use the numeric comparison operator if you want to compare values ​​as numbers, and the string comparison operator if you want to compare as strings.

Please note that this is what makes it different from other languages.

<pre>
# Numerical comparison
my $num = 4;
if ($num <6) {
  ...
}

# String comparison
my $animal = 'Cat':
if ($animal eq 'Dog') {
  ...
}
</pre>

String comparison operators include "gt", "ge", "lt", and "le" for comparing sizes, which are compared in lexicographical order.

For example, when comparing "1" and "03" numerically, "1" is interpreted as "1" and "03" is interpreted as "3", and "03" is larger.

However, when comparing the character strings of "1" and "03", it is judged from the first character, and "1" and "0" are larger for "1" because the character code is larger for "1".

<pre>
my $num1 = '1';
my $num2 = '03';

# Numerical comparison
if ($num1> $num2) {
  # Not executed
  print "OK 1\n";
}

# String comparison
if ($num1 gt $num2) {
  # Be executed
  print "OK 2\n";
}
</pre>

See below for a detailed explanation of Perl's comparison operators.

<ul>
  <li>
    <a href="/blog/20080318120585.html">Perl comparison operator</a>
  </li>
</ul>

<h3> Perl boolean </h3>

Next, let's get a good understanding of Perl's <b> boolean </b>. In the if statement, the inside of the block was executed when the condition became true. It was not executed when it became false.
Now let's get a good understanding of Perl booleans.

<h4> Perl false value </h4>

There are four false values ​​in Perl:

<table>
  <tr>
    <td>
      1
    </td>
    <td>
      <a href="/blog/20100220126425.html">undef</a>
    </td>
    <td>
      Undefined value
    </td>
  </tr>

  <tr>
    <td>
      2
    </td>
    <td>
      ""
    </td>
    <td>
      Empty string
    </td>
  </tr>

  <tr>
    <td>
      3
    </td>
    <td>
      0
    </td>
    <td>
      0
    </td>
  </tr>

  <tr>
    <td>
      Four
    </td>
    <td>
      "0"
    </td>
    <td>
      String 0
    </td>
  </tr>

</table>

If the condition of the if statement is a false value as shown below, the inside of the block will not be executed.

<pre>
# Not executed if condition is false
if (undef) {
  # Not executed
}

if ("") {
  # Not executed
}

if (0) {
  # Not executed
}

if ("0") {
  # Not executed
}
</pre>

<h4> Perl true value </h4>

Everything is true except what is false above. For example, the following is true:

<b> Long string </b>

<pre>
"Cat"
</pre>

<b> Non-zeroNumerical value </b>

<pre>
13
-3
1.5
</pre>

<b> A string containing a number other than "0" </b>

<pre>
"13"
"0.1"
"0.0"
</pre>

<b> Reference or object </b>

<pre>
my $nums = [1, 2, 3];
my $scores = {};
my $object = XML::Simple->new;
</pre>


Notice that the string "" 0.0 "" is true.

<b> <a href="/blog/20100308126967.html">list</a> </b> with elements

<pre>
(0)
(1, 2);
</pre>

If the condition of the if statement is true as shown below, the inside of the block is executed.

<pre>
# Executed if the condition is true
if ("Cat") {
  # Be executed
}

if (13) {
  # Be executed
}

if ("13") {
  # Be executed
}

my $object = XML::Simple->new;
if ($object) {
  # Be executed
}
</pre>

<h4> When writing an array in the condition of an if statement </h4>

It's common to write an array in an if statement, so let's see how it is evaluated as a false value.

If the array has elements, it is evaluated in the scalar context and the number of arrays is evaluated.

If the array has elements, the if block will be executed, otherwise it will not be executed.

<pre>
my @nums = (1, 2);
if (@nums) {
  # Be executed
}

my @nums = ();
if (@nums) {
  # Not executed
}
</pre>

See below for more information on Perl booleans.

<ul>
  <li>
    <a href="/blog/20080323120628.html">Perl truth value</a>
  </li>
</ul>

<h3> Perl logical operators </h3>

Next, I will explain the logical operators that can express "A and B", "A or B", and "not A".

So far, we've only looked at a single condition, but you can use logical operators to express complex conditions and negations.

<table>
  <tr>
    <td>
      *operator
    </td>
    <td>
      *meaning
    </td>
  </tr>

  <tr>
    <td>
      &#x7c; &#x7c;
    </td>
    <td>
      Logical sum
    </td>
  </tr>

  <tr>
    <td>
      &&
    </td>
    <td>
      Logical AND
    </td>
  </tr>

  <tr>
    <td>
      !!
    </td>
    <td>
      denial
    </td>
  </tr>

  <tr>
    <td>
      or
    </td>
    <td>
      OR (lower priority than &&)
    </td>
  </tr>

  <tr>
    <td>
      and
    </td>
    <td>
      Lower priority than AND &&)
    </td>
  </tr>

  <tr>
    <td>
      not
    </td>
    <td>
      Negation (lower priority than!)
    </td>
  </tr>

</table>

<h4> Logical product (A and B) </h4>

For example, to express the condition that the variable "$num" is "greater than 1 and less than 5", use <b> && </b> and write as follows.

<pre>
if ($num> 1 && $num <5) {
  ...
}
</pre>

And has the same meaning, but the priority of the operator is low, and it is customary to use "&&" when writing in the conditional part of the if statement.

<h4> OR (A or B) </h4>

Next, to express the condition that the variable "$num" is "less than 1 or greater than 5", use <b> || </b> and write as follows.

<pre>
if ($num <1 || $num> 5) {
  ...
}
</pre>

Or has the same meaning, but the priority of the operator is low, and it is customary to use "||" when writing in the conditional part of the if statement.

<h4> Negation (not A) </h4>

To express the condition that the variable "$num" is "not true", we can use <b>! </B> to write:

<pre>
if (! $num)) {
  ...
}
</pre>

Not has the same meaning, but the operator priority is low, and it seems that it is rarely used in the source code.

<h4> Use a combination of logical operators </h4>

Logical operators can be used in combination. You can control the join order of operators by using parentheses.

<pre>
if ($num> 10 || (($num> -3 && $num <6) &&! ($Num == 0))) {
  ...
}
</pre>

The join order of "&&" is higher than the join order of "||", and some parentheses in the middle are not programmatically meaningful. Let's use "()" for.

Please refer to the following articles for a detailed explanation of logical operators.

<ul>
  <li>
    <a href="/blog/20100816136168.html">List of Perl logical operators</a>
  </li>
</ul>

<h3> Slightly special conditional branching </h3>

Learn about some of the more unusual conditionals that are often used in Perl.

<h4> unless statement </h4>

<a href="/blog/20100125126425.html">unless statement</a> can write the same processing as when the condition is denied by the if statement.

<pre>
Execute block if # $num is not true
unless ($num) {
  ...
}
</pre>

It has exactly the same meaning as the following if statement.

<pre>
if (! $num) {
  ...
}
</pre>

When should the unless statement be used if the meanings are the same? That is when you want to strengthen your feelings of "otherwise". The feeling that unless is "otherwise" stands out.

For example, if the error checking process is the main process, writing the following is more noticeable than writing using "if" and "!". It is a process to execute a block when a value is not defined using <a href="/blog/20100219126425.html">define function</a>.

<pre>
unless (defined $num) {
  ...
}
</pre>

<h4> Write the branch in the failed process with or </h4>

Perl often customarily writes conditional branching using the <a href="/blog/20100816136168.html">logical operator or</a>.

In a typical example, "or" will appear in the error handling when the <a href="/blog/20080718121643.html">open function</a> fails.

If the open function fails and returns a false value, the processing after the "or" is performed.

<pre>
open(my $fh, "<", $file)
  or die "Can't open $file: $!";
</pre>

The main processing is written first, and the auxiliary error processing is written later using or. One of the interesting things about Perl is that you can write programming in a natural language-like expression like this.

<h4> Postfix if and postfix unless </h4>

In Perl, if and unless can be written after the process.

<pre>
# Postfix if
$num1 = 1 if! defined $num1;

# Postfix unless
$num2 = 1 unless defined $num2;
</pre>

This is more accurately called the <a href="/blog/20080324120637.html">if modifier</a> and the <a href="/blog/20080324120637.html">unless modifier</a>.

If it is a conditional branch that can be written in one line, it can also be written using the postfix if and unless.

The biggest merit of postfix if and unless is that unlike normal if and unless, it does not create a scope, so processing is faster. Normally you don't need to be aware of it, but if you really want to gain speed, it will be a little faster.

I often use it with <a href="/blog/20170513149580.html">next statement</a> and <a href="/blog/20170527149589.html">last statement</a>.

<pre>
for my $num (@nums) {
  last if! defined $num;
}

for my $num (@nums) {
  next if! defined $num;
}
</pre>

<h4> Ternary operator </h4>

Perl has an operator called <a href="/blog/20080325120646.html">ternary operator</a>.

You can use the ternary operator to change the value to be returned depending on the conditions.

<pre>
# Ternary operator syntax
Condition? Value 1: Value 2
</pre>

If the condition is true, the value 1 is returned, and if false, the value 2 is returned.

In the following example, "Cat" is assigned to "$animal" when "$flag" is true, and "Dog" is assigned to "$animal" when it is false.

<pre>
my $flag = 1;

# Ternary operator
my $animal = $flag ?'Cat':'Dog';
</pre>

You can do the same with conditional branching using if, but you can write it concisely using the ternary operator.

<b> Use multiple ternary operators </b>

Multiple ternary operators can be used in layers, and can be written in a way that corresponds to "if ~ elsif ~ else".

<pre>
my $flag = 2;

my $animal =
    $flag == 0?'Cat'
  : $flag == 1?'Dog'
  : $flag == 2?'Mouse'
  :'Cow';
</pre>

Since "$flag" is "2", "Mouse" is assigned to "$animal". When using ternary operators in layers, it is recommended to write them in multiple lines for easy viewing.

<h4> Set default values ​​with special assignment operators "||=" and "//=" </h4>

Perl has a commonly used default value setting method. It is a way to use the <a href="/blog/20161005147566.html">special assignment operator</a> "||=" or "//=" .

<pre>
# If "$x" is false, set "$x" to 5.
$x ||= 5;

# Set 7 to "$y" if "$x" is undefined
$y //=7;
</pre>

For "A ||= B", if "A" is false, the content of "B" is assigned to "A".

For "A //= B", if "A" is undefined, the contents of "B" will be assigned to "A".

The syntax for "A //= B" was introduced in Perl 5.10, so you can use "A //= B" in Perl 5.10 and later. "A ||= B" is prone to bugs, so it is recommended to use it. For example, if "A ||= B", the default value will be set when "A" is "0".

Remember this because it's a frequently used syntax.

<h3> Repeat statement </h3>

Please refer to the following article for repetitive sentences.

<ul>
   <li>
     <a href="/blog/20100123126425.html">while statement</a>
   </li>
   <li>
     <a href="/blog/20080327120662.html">for statement</a>
   </li>
   <li>
     <a href="/blog/20080328120673.html">foreach statement</a>
   </li>
   <li>
     <a href="/blog/20080329120687.html">last and next</a>
   </li>
</ul>