<h2>D module-encodes data and dumps to standard error</h2>

The D module provides utility functions that encode data and dump it to standard error output.

<h3>Usage example</h3>

The D module is used as follows.
<pre>
use utf8;
 
# export the du, dw, dn, dustr, dwstr, dnstr functions
use D;
 
# Prepare the data (reference) including the decoded string
my $data = [{name =>'a'}, {name =>'i'}];
 
# Encode the reference data (UTF-8) and dump it to standard error output.
du $data;

# Encode the reference data (cp932) and dump it to standard error output.
dw $data;

# Dump to standard error without encoding reference data.
dn $data;

# A handy Oneliner example.
use D; du $data;
use D; dw $data;
use D; dn $data;

# This is an output sample of the du function.
[
  {
    'name' =>'ah'
  },
  {
    'name' =>'I'
  }
] at test.pl line 7.
</pre>

<h3>Features</h3>
<ul>
<li> Export functions such as du, dw, dn. These function names are two characters and should not conflict with debug commands such as'p'. </li>
The <li> dustr and dwstr functions encode all strings in the reference data. </li>
<li> du is an abbreviation for'dump UTF-8'. </li>
<li> dw is an abbreviation for'dump Windows cp932'. </li>
<li> dn is an abbreviation for'dump no encoding'. </li>
<li> Data::Dump the data using Dumper's Dump function. </li>
<li> Outputs the line number and file name to the standard error. </li>
<li> Sort by hash key of dumped data. </li>
<li> Unlike the default of Data::Dumper, it does not output'$VAR1 = '. </li>
</ul>

<h3>Function</h3>

<h4>du function</h4>
Encodes all strings in the reference data to UTF-8 and dumps the reference data to standard error along with the filename and line number.
Even if the argument is not reference data such as a string, it is dumped in the same way as reference data.
This function will be exported.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
du $data;
</pre>

The example below uses a one-liner. It can be used with all functions.

<pre>
my $data = [{name =>'a'}, {name =>'i'}];
use D; du $data;
</pre>

<h4>dw function</h4>
Encodes all strings in the reference data to cp932 and dumps the reference data along with the filename and line number to standard error output.
Even if the argument is not reference data such as a string, it is dumped in the same way as reference data.
This function will be exported.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
dw $data;
</pre>

<h4>dn function</h4>
It does not encode all the strings in the reference data and dumps the reference data along with the file name and line number to the standard error output.
Even if the argument is not reference data such as a string, it is dumped in the same way as reference data.
This function will be exported.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
dn $data;
</pre>

<h4>duster function</h4>
This function returns a UTF-8 encoded string.
This function will be exported.

The following example gets a UTF-8 encoded string.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
my $str = dustr $data;
</pre>

<h4>dwstr function</h4>
This function returns a cp932 encoded string.
This function will be exported.

The following example is getting a cp932 encoded string.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
my $str = dwstr $data;
</pre>

<h4>dnstr function</h4>
This function returns a string without encoding.
This function will be exported.

The following example is getting an unencoded string.

<pre>
use D;
my $data = [{name =>'a'}, {name =>'i'}];
my $str = dnstr $data;
</pre>

<h3>Bug report</h3>
<a href="https://github.com/YoshiyukiItoh/D" target="_blank">https://github.com/YoshiyukiItoh/D</a>

<h3>Related items</h3>
<ul>
<li> <a href="https://metacpan.org/pod/Data::Dumper" target = "_ blank">Data::Dumper</a> </li>
<li> <a href="https://metacpan.org/pod/Carp" target="_blank">Carp</a> </li>
<li> <a href="https://metacpan.org/pod/Data::Recursive::Encode" target = "_ blank">Data::Recursive::Encode</a> </li>
</ul>

<h3>Original page (meta::cpan)</h3>
<a href="https://metacpan.org/pod/D" target="_blank">https://metacpan.org/pod/D</a>